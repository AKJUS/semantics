scchart CounterNonimmediate {
  input bool a;
  input bool start;
  input bool stop;
  output bool b;
  output bool c;
  output bool end;
  bool _trig;
  bool _trig2;

  region _Entry:

  state _Main {

    state Counting {

      region _Entry:

      state _Main {

        initial state C0
        --> _Aborted immediate with _trig || _trig2
        --> _Pause immediate;

        state C1
        --> _Aborted immediate with _trig || _trig2
        --> _Pause2 immediate;

        final state _Aborted;

        state _S
        --> C0 immediate with / end = true;

        state _Pause
        --> _Depth;

        state _Depth
        --> C1 immediate with c
        --> C0 immediate;

        state _Pause2
        --> _Depth2;

        state _Depth2
        --> _S immediate with c
        --> C1 immediate;

        region:

        initial state B0
        --> _Aborted2 immediate with _trig || _trig2
        --> _Pause immediate;

        state B1
        --> _Aborted2 immediate with _trig || _trig2
        --> _Pause2 immediate;

        final state _Aborted2;

        state _S
        --> B0 immediate with / c = c || true;

        state _Pause
        --> _Depth;

        state _Depth
        --> B1 immediate with b
        --> B0 immediate;

        state _Pause2
        --> _Depth2;

        state _Depth2
        --> _S immediate with b
        --> B1 immediate;

        region:

        initial state A0
        --> _Aborted3 immediate with _trig || _trig2
        --> _Pause immediate;

        state A1
        --> _Aborted3 immediate with _trig || _trig2
        --> _Pause2 immediate;

        final state _Aborted3;

        state _S
        --> A0 immediate with / b = b || true;

        state _Pause
        --> _Depth;

        state _Depth
        --> A1 immediate with a
        --> A0 immediate;

        state _Pause2
        --> _Depth2;

        state _Depth2
        --> _S immediate with a
        --> A1 immediate;

        region _Ctrl:

        final state _Done;

        state _S
        --> _Done immediate with / _trig = true;

        state _S2
        --> _Done immediate with / _trig2 = true;

        initial state _Run
        --> _Depth;

        state _Depth
        --> _S immediate with end
        --> _S4 immediate;

        state _S4
        --> _S2 immediate with stop
        --> _Run immediate;
      }
      >-> _Done;

      initial state _Init
      --> _C immediate with / _trig = false;

      final state _Done;

      state _C
      --> _Main immediate with / _trig2 = false;
    }
    >-> _C;

    state _C
    --> NotCounting immediate with _trig
    --> NotCounting immediate;

    initial state NotCounting
    --> _Depth;

    state _Depth
    --> Counting immediate with start
    --> NotCounting immediate;

    region _During:

    state _S
    --> _Depth;

    initial state _Depth
    --> _S3 immediate with / b = false;

    state _S3
    --> _S immediate with / c = false;
  }
  >-> _Done;

  initial state _Init
  --> _Main immediate with / end = false;

  final state _Done;
}