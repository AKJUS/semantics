scchart weaksuspend {
  input bool I;
  output bool O;

  initial state A {
    bool _weakSuspend = false;
    int _stateEnum;
    bool _deferred = false;
    bool _trig;
    bool _trig2;

    initial state A1 {

      region _Entry:

      state _Main {

        region _During:

        initial state _I
        --> _Aborted immediate with _trig | _trig2
        --> _Pause immediate;

        final state _Aborted;

        state _Depth
        --> _I immediate / _deferred = false;

        state _Pause
        --> _Depth;

        region _Ctrl:

        initial state _Run
        --> _S2 immediate with !_deferred & _weakSuspend
        --> _Pause immediate;

        final state _Done;

        state _Depth
        --> _Done immediate / _trig = true;

        state _S2
        --> _Done immediate / _trig2 = true;

        state _Pause
        --> _Depth;
      }
      >-> _Done;

      initial state _Init
      --> _S immediate with !_deferred & !_weakSuspend
      --> _S4 immediate;

      final state _Done;

      state _S4
      --> _C2 immediate / _trig = false;

      state _C2
      --> _Main immediate / _trig2 = false;

      state _S
      --> _S4 immediate / _stateEnum = 0;
    }
    >-> _C;

    state _S6
    --> _S immediate with _stateEnum == 0
    --> _Pause immediate;

    state _C
    --> _S2 immediate with _trig
    --> _S6 immediate;

    state _S
    --> A1 immediate / _deferred = true;

    state _S2
    --> A1 immediate / O = O | true;

    state _Pause
    --> _Depth;

    state _Depth
    --> _S immediate with _stateEnum == 0
    --> _Pause immediate;

    region _During:

    state _S
    --> _I immediate / _weakSuspend = true;

    initial state _I
    --> _Depth;

    state _Depth
    --> _S immediate with I
    --> _I immediate;
  };

  region _During:

  state _Depth
  --> _I immediate / O = false;

  initial state _I
  --> _Depth;
}