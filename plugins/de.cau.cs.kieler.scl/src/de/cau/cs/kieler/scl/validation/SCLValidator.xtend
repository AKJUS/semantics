/*
 * generated by Xtext
 */
package de.cau.cs.kieler.scl.validation

import de.cau.cs.kieler.scl.Label
import de.cau.cs.kieler.scl.SCLProgram
import org.eclipse.xtext.validation.Check

//import org.eclipse.xtext.validation.Check

/**
 * This class contains custom validation rules. 
 *
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation
 */
class SCLValidator extends AbstractSCLValidator {

     /*
     * Checks if labels are unique
     */
    @Check
    def checkUniqueLabel(SCLProgram program) {
        program.eAllContents().filter(Label).groupBy[name].forEach[name, labels|
            if (labels.size > 1) {
                labels.forEach[error("Duplicate label", it, null, -1)]
            }
        ]
    }
}
